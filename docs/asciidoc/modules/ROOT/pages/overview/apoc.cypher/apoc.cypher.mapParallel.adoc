////
This file is generated by DocsTest, so don't change it!
////

= apoc.cypher.mapParallel
:description: This section contains reference documentation for the apoc.cypher.mapParallel procedure.


label:procedure[] label:apoc-extended[] label:deprecated[]

[.emphasis]
apoc.cypher.mapParallel(fragment, params, list-to-parallelize) yield value - executes fragment in parallel batches with the list segments being assigned to _

== Signature

[source]
----
apoc.cypher.mapParallel(fragment :: STRING?, params :: MAP?, list :: LIST? OF ANY?) :: (value :: MAP?)
----

== Input parameters
[.procedures, opts=header]
|===
| Name | Type | Default 
|fragment|STRING?|null
|params|MAP?|null
|list|LIST? OF ANY?|null
|===

== Output parameters
[.procedures, opts=header]
|===
| Name | Type 
|value|MAP?
|===

Note: this procedure is deprecated.
Use Cypher runtime parallel for single read-only operations:

[source]
----
CYPHER runtime=parallel
CALL {
  MATCH (p:Post)
  WITH
    CASE
      WHEN p.updatedAt IS NULL THEN [p.createdAt]
      ELSE [p.createdAt, p.updatedAt]
    END AS activityDates
  UNWIND activityDates AS activityDate
  RETURN activityDate
  UNION ALL
  MATCH (u:User)
  UNWIND [u.createdAt, u.accessedAt] AS activityDate
  RETURN activityDate
}
RETURN activityDate.year AS year,
       activityDate.month AS month,
       count(*) AS activity
ORDER BY activity DESC, year, month
LIMIT 10
----

or, alternatively, for write operations use IN CONCURRENT TRANSACTIONS:

[source]
----
:auto
CALL {
  UNWIND range(0,9) as b
  MATCH (m:Movie { ranking: b }) RETURN m
} IN CONCURRENT TRANSACTIONS
WITH m.ranking as rank
MATCH (n:Movie)
SET n.ranking = 11
RETURN n
----

xref::cypher-execution/parallel.adoc[More documentation of apoc.cypher.mapParallel,role=more information]

