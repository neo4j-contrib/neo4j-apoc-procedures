[[extract-node-from-relationship]]
= Extract node from relationships
:description: This section describes a procedure that can be used to create nodes from relationships.



The available procedure is described in the table below:

[separator=¦,opts=header,cols="5,1m,1m"]
|===
¦Qualified Name¦Type¦Release
include::example$generated-documentation/apoc.refactor.extractNode.adoc[]
|===

== Example Usage

The example below will help us learn how to use this procedure.

.The following creates a graph containing two nodes connected by a relationship:
[source,cypher]
----
CREATE (f:Foo)-[rel:FOOBAR {a:1}]->(b:Bar)
----

image::apoc.refactor.extractNode.dataset.png[scaledwidth="100%"]

.The following converts the `FOOBAR` relationship into a node with label `FOOBAR` that has an incoming `FOO` relationship and outgoing `BAR` relationship:
[source,cypher]
----
MATCH (f:Foo)-[rel:FOOBAR {a:1}]->(b:Bar)
CALL apoc.refactor.extractNode(rel,['FooBar'],'FOO','BAR')
YIELD input, output
RETURN input, output
----

If we execute this query, it will result in the following graph:

image::apoc.refactor.extractNode.png[scaledwidth="100%"]
